<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Blarney.Interconnect</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">blarney-0.1.0.0</span><ul class="links" id="page-menu"><li><a href="https://github.com/blarney-lang/blarney/tree/087ff9884d6ec5648b007b46069a163bfd5f0a2e/Haskell/Blarney/Interconnect.hs">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Matthew Naylor 2020</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>mattfn@gmail.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">Blarney.Interconnect</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:mergeTwo">mergeTwo</a> :: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a =&gt; <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a -&gt; <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a -&gt; <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a</li><li class="src short"><a href="#v:mergeChain">mergeChain</a> :: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a =&gt; [<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a] -&gt; <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a</li><li class="src short"><a href="#v:mergeTree">mergeTree</a> :: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a =&gt; [<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a] -&gt; <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a</li><li class="src short"><a href="#v:makeFairMerger">makeFairMerger</a> :: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a =&gt; [<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a] -&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</li><li class="src short"><span class="keyword">type</span> <a href="#t:TwoWaySwitch">TwoWaySwitch</a> a = (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1) -&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1) -&gt; (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a) -&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</li><li class="src short"><a href="#v:makeGenericFairMergeTwo">makeGenericFairMergeTwo</a> :: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a =&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Queue.html#t:Queue" title="Blarney.Queue">Queue</a> a) -&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1) -&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1) -&gt; (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a) -&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</li><li class="src short"><a href="#v:makeFairExchange">makeFairExchange</a> :: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a =&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Queue.html#t:Queue" title="Blarney.Queue">Queue</a> a) -&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1) -&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1) -&gt; (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a) -&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</li><li class="src short"><a href="#v:makeTwoWayBroadcast">makeTwoWayBroadcast</a> :: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a =&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1) -&gt; <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a -&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</li><li class="src short"><a href="#v:makeFairExchangeWithBroadcast">makeFairExchangeWithBroadcast</a> :: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a =&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Queue.html#t:Queue" title="Blarney.Queue">Queue</a> a) -&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1) -&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1) -&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1) -&gt; (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a) -&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</li><li class="src short"><a href="#v:makeShuffleExchange">makeShuffleExchange</a> :: <span class="keyword">forall</span> n a. (<a href="file:///usr/local/.ghcup/ghc/9.2.1/share/doc/ghc-9.2.1/html/libraries/base-4.16.0.0/GHC-TypeLits.html#t:KnownNat" title="GHC.TypeLits">KnownNat</a> n, <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a) =&gt; <a href="Blarney-Interconnect.html#t:TwoWaySwitch" title="Blarney.Interconnect">TwoWaySwitch</a> a -&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> n) -&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1) -&gt; [<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a] -&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> [<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:mergeTwo" class="def">mergeTwo</a> :: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a =&gt; <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a -&gt; <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a -&gt; <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a <a href="https://github.com/blarney-lang/blarney/tree/087ff9884d6ec5648b007b46069a163bfd5f0a2e/Haskell/Blarney/Interconnect.hs#L37" class="link">Source</a> <a href="#v:mergeTwo" class="selflink">#</a></p><div class="doc"><p>Unbuffered left-biased merge of two streams</p></div></div><div class="top"><p class="src"><a id="v:mergeChain" class="def">mergeChain</a> :: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a =&gt; [<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a] -&gt; <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a <a href="https://github.com/blarney-lang/blarney/tree/087ff9884d6ec5648b007b46069a163bfd5f0a2e/Haskell/Blarney/Interconnect.hs#L46" class="link">Source</a> <a href="#v:mergeChain" class="selflink">#</a></p><div class="doc"><p>Unbuffered sequential left-biased merge of multiple sources</p></div></div><div class="top"><p class="src"><a id="v:mergeTree" class="def">mergeTree</a> :: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a =&gt; [<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a] -&gt; <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a <a href="https://github.com/blarney-lang/blarney/tree/087ff9884d6ec5648b007b46069a163bfd5f0a2e/Haskell/Blarney/Interconnect.hs#L51" class="link">Source</a> <a href="#v:mergeTree" class="selflink">#</a></p><div class="doc"><p>Unbuffered parallel tree merge of multiple streams,
 where each merger is left biased</p></div></div><div class="top"><p class="src"><a id="v:makeFairMerger" class="def">makeFairMerger</a> :: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a =&gt; [<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a] -&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a) <a href="https://github.com/blarney-lang/blarney/tree/087ff9884d6ec5648b007b46069a163bfd5f0a2e/Haskell/Blarney/Interconnect.hs#L55" class="link">Source</a> <a href="#v:makeFairMerger" class="selflink">#</a></p><div class="doc"><p>Buffered fair merger of a list of streams</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TwoWaySwitch" class="def">TwoWaySwitch</a> a <a href="https://github.com/blarney-lang/blarney/tree/087ff9884d6ec5648b007b46069a163bfd5f0a2e/Haskell/Blarney/Interconnect.hs#L84" class="link">Source</a> <a href="#t:TwoWaySwitch" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&nbsp;= (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1)</td><td class="doc"><p>Routing function</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1)</td><td class="doc"><p>Final flit of atomic transaction?</p></td></tr><tr><td class="src">-&gt; (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</td><td class="doc"><p>Input streams</p></td></tr><tr><td class="src">-&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</td><td class="doc"><p>Output streams</p></td></tr></table></div><div class="doc"><p>Shorthand for a two-way switch</p></div></div><div class="top"><p class="src"><a id="v:makeGenericFairMergeTwo" class="def">makeGenericFairMergeTwo</a> <a href="https://github.com/blarney-lang/blarney/tree/087ff9884d6ec5648b007b46069a163bfd5f0a2e/Haskell/Blarney/Interconnect.hs#L91" class="link">Source</a> <a href="#v:makeGenericFairMergeTwo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Queue.html#t:Queue" title="Blarney.Queue">Queue</a> a)</td><td class="doc"><p>Queue kind to use for buffering</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1)</td><td class="doc"><p>Guard on whether data is consumed by merger</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1)</td><td class="doc"><p>Final flit of an atomic transaction?</p></td></tr><tr><td class="src">-&gt; (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</td><td class="doc"><p>Input streams to be merged</p></td></tr><tr><td class="src">-&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</td><td class="doc"><p>Output stream</p></td></tr></table></div><div class="doc"><p>Buffered fair merger of two streams</p></div></div><div class="top"><p class="src"><a id="v:makeFairExchange" class="def">makeFairExchange</a> <a href="https://github.com/blarney-lang/blarney/tree/087ff9884d6ec5648b007b46069a163bfd5f0a2e/Haskell/Blarney/Interconnect.hs#L138" class="link">Source</a> <a href="#v:makeFairExchange" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Queue.html#t:Queue" title="Blarney.Queue">Queue</a> a)</td><td class="doc"><p>Queue kind to use for buffering</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1)</td><td class="doc"><p>Routing function</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1)</td><td class="doc"><p>Final flit of atomic transaction?</p></td></tr><tr><td class="src">-&gt; (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</td><td class="doc"><p>Input streams</p></td></tr><tr><td class="src">-&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</td><td class="doc"><p>Output streams</p></td></tr></table></div><div class="doc"><p>Buffered fair switch between two streams, based on routing function</p></div></div><div class="top"><p class="src"><a id="v:makeTwoWayBroadcast" class="def">makeTwoWayBroadcast</a> <a href="https://github.com/blarney-lang/blarney/tree/087ff9884d6ec5648b007b46069a163bfd5f0a2e/Haskell/Blarney/Interconnect.hs#L154" class="link">Source</a> <a href="#v:makeTwoWayBroadcast" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1)</td><td class="doc"><p>Broadcast condition</p></td></tr><tr><td class="src">-&gt; <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a</td><td class="doc"><p>Input stream</p></td></tr><tr><td class="src">-&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</td><td class="doc"><p>Output streams</p></td></tr></table></div><div class="doc"><p>Optionally broadcast items from an input stream into two output
 streams.  If an item is to be broadcast, then *both* consumers must
 eventually consume it (perhaps at different times).</p></div></div><div class="top"><p class="src"><a id="v:makeFairExchangeWithBroadcast" class="def">makeFairExchangeWithBroadcast</a> <a href="https://github.com/blarney-lang/blarney/tree/087ff9884d6ec5648b007b46069a163bfd5f0a2e/Haskell/Blarney/Interconnect.hs#L218" class="link">Source</a> <a href="#v:makeFairExchangeWithBroadcast" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Queue.html#t:Queue" title="Blarney.Queue">Queue</a> a)</td><td class="doc"><p>Queue kind to use for buffering</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1)</td><td class="doc"><p>Broadcast condition</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1)</td><td class="doc"><p>Routing function</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1)</td><td class="doc"><p>Final flit of atomic transaction?</p></td></tr><tr><td class="src">-&gt; (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</td><td class="doc"><p>Input streams</p></td></tr><tr><td class="src">-&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> (<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a, <a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a)</td><td class="doc"><p>Output streams</p></td></tr></table></div><div class="doc"><p>Buffered fair switch between two streams, based on routing
 function, with optional broadcast</p></div></div><div class="top"><p class="src"><a id="v:makeShuffleExchange" class="def">makeShuffleExchange</a> <a href="https://github.com/blarney-lang/blarney/tree/087ff9884d6ec5648b007b46069a163bfd5f0a2e/Haskell/Blarney/Interconnect.hs#L253" class="link">Source</a> <a href="#v:makeShuffleExchange" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> n a. (<a href="file:///usr/local/.ghcup/ghc/9.2.1/share/doc/ghc-9.2.1/html/libraries/base-4.16.0.0/GHC-TypeLits.html#t:KnownNat" title="GHC.TypeLits">KnownNat</a> n, <a href="Blarney-Core-Bits.html#t:Bits" title="Blarney.Core.Bits">Bits</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Blarney-Interconnect.html#t:TwoWaySwitch" title="Blarney.Interconnect">TwoWaySwitch</a> a</td><td class="doc"><p>Primitive two-way switch</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> n)</td><td class="doc"><p>Routing function</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="Blarney-Core-Bit.html#t:Bit" title="Blarney.Core.Bit">Bit</a> 1)</td><td class="doc"><p>Final flit of atomic transaction?</p></td></tr><tr><td class="src">-&gt; [<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a]</td><td class="doc"><p>Input streams</p></td></tr><tr><td class="src">-&gt; <a href="Blarney-Core-Module.html#t:Module" title="Blarney.Core.Module">Module</a> [<a href="Blarney-Stream.html#t:Stream" title="Blarney.Stream">Stream</a> a]</td><td class="doc"><p>Output streams</p></td></tr></table></div><div class="doc"><p>Shuffle Exchange network.  Data from a set of input streams is
 routed to a set of output streams based on a routing function.  The
 number of streams in and out must be a power of two.  The number of
 2-input muxes used is N * log(N), where N is the number of stream
 inputs.  The latency of the network is log(N), assuming no
 congestion and no routing clashes.  This is useful to implement
 network switches thar are too large to be handled by a crossbar
 (which would require N*N 2-input muxes).  The throughput will not
 match that of a crossbar in general, but the network is capable of
 routing a large number of packets simultaneously. When the
 routing pattern is a shift or rotation (by any amount), the
 throughput is equivalent to that of a full crossbar.  Indeed, the
 network is similar to that found in a barrel shifter.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>